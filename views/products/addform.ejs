<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0-13/css/all.min.css"
        integrity="sha512-MdXcgiHaL1yFyNjJtThjw0XkwR8tcd1aDcewr+2/whtekkfCbr79HXBNVQB4x+cVZKwnVt1mm3fP1Amj0cGClw=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="/form-style/css/addform.css">

    <link rel="stylesheet" href="https://unpkg.com/dropzone@5/dist/min/dropzone.min.css" type="text/css" />

</head>

<body>
    <div class="container wrapper">
        <div class=" text-center mt-5 ">
            <h1>Product</h1>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-10 mx-auto">
            <div class="card mt-2 mx-auto p-4 bg-light">
                <div class="card-body bg-light">
                    <div class="container">
                        <form id="product-form" action="/products/" method="post" enctype="multipart/form-data">
                            <div class="controls row">
                                <div class="col-lg-6">
                                    <div class="col-lg-12 row mb-3">
                                        <div class="form-group">
                                            <label for="form_productname">Product Name <span
                                                class="require">*</span></label>
                                            <input id="form_productname" type="text" name="name"
                                                class="form-control" placeholder="Enter product name"
                                                required="required" data-error="Product name is required.">
                                        </div>
                                    </div>
                                    <div class="col-lg-12 row mb-3">
                                        <div class="col-md-6 mb-3">
                                            <div class="form-group">
                                                <label for="form_brand">Brand<span class="require">*</span></label>
                                                <input id="form_brand" type="text" name="brand" class="form-control"
                                                    placeholder="Enter brand" required="required"
                                                    data-error="Brand is required.">
                                            </div>
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <div class="form-group">
                                                <label for="form_price">Price <span class="require">*</span></label>
                                                <input id="form_price" type="price" name="price"
                                                    class="form-control" placeholder="Enter price"
                                                    required="required" data-error="Please enter product's price.">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-12 row mb-3">
                                        <div class="form-group">
                                            <label for="form_category">Category <span
                                                    class="require">*</span></label>
                                            <div id="form_category">
                                                <div>
                                                    <label for="form_category_gender" class="category_group">Gender:
                                                    </label>
                                                    <div class="form-check form-check-inline"
                                                        id="form_category_gender">
                                                        <input class="form-check-input" type="radio"
                                                            name="category" id="maleRadio" value="male">
                                                        <label class="form-check-label" for="maleRadio">Male</label>
                                                    </div>
                                                    <div class="form-check form-check-inline">
                                                        <input class="form-check-input" type="radio"
                                                            name="category" id="femaleRadio" value="female">
                                                        <label class="form-check-label"
                                                            for="femaleRadio">Female</label>
                                                    </div>
                                                    <div class="form-check form-check-inline">
                                                        <input class="form-check-input" type="radio"
                                                            name="category" id="bothGenderRadio"
                                                            value="unisex">
                                                        <label class="form-check-label"
                                                            for="bothGenderRadio">Unisex</label>
                                                    </div>
                                                </div>
                                                <div>
                                                    <label for="form_category_style"
                                                        class="category_group">Type</label>
                                                    <div class="form-check form-check-inline">
                                                        <input class="form-check-input" type="radio"
                                                            name="category" id="sportRadio" value="sport">
                                                        <label class="form-check-label"
                                                            for="sportRadio">Sport</label>
                                                    </div>
                                                    <div class="form-check form-check-inline">
                                                        <input class="form-check-input" type="radio"
                                                            name="category" id="casualRadio" value="casual">
                                                        <label class="form-check-label"
                                                            for="casualRadio">Casual</label>
                                                    </div>

                                                    <div class="form-check form-check-inline">
                                                        <input class="form-check-input" type="radio"
                                                            name="category" id="bothRadio" value="street">
                                                        <label class="form-check-label" for="bothRadio">Street</label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-12 row mb-3">
                                        <div class="form-group">
                                            <label for="form_productname">SKU<span
                                                class="require"></span></label>
                                            <input id="form_productname" type="text" name="SKU"
                                                class="form-control" placeholder="Enter description"
                                                required="required">
                                        </div>
                                    </div>
                                    <div class="col-lg-12 row mb-3">
                                        <div class="form-group">
                                            <label for="form_productname">Description<span
                                                class="require"></span></label>
                                            <input id="form_productname" type="text" name="description"
                                                class="form-control" placeholder="Enter description"
                                                required="required" value="No description">
                                        </div>
                                    </div>
                                    <div class="col-lg-12 row mb-3">
                                        <div class="col-md-12">
                                            <div id="details" class="form-group">
                                                <label for="form_detail">Details<span
                                                        class="require">*</span></label>
                                                <div class="row">
                                                    <div class="col-md-5">
                                                        <div class="form-group">
                                                            <label for="form">Size</label>
                                                            <input id="size-input" type="text" name="size-input"
                                                                class="form-control" placeholder="Enter size"
                                                                data-error="Valid email is required.">
                                                        </div>
                                                    </div>
                                                    <div class="col-md-5">
                                                        <div class="form-group">
                                                            <label for="form">Quantity</label>
                                                            <input id="quantity-input" type="text" name="quantity-input"
                                                                class="form-control" placeholder="Enter quantity"
                                                                data-error="Please specify your need.">
                                                        </div>
                                                    </div>
                                                    <div class="col-md-2 button-add">
                                                        <button type="button" class="btn btn-primary btn-add-detail"
                                                            onCLick="onAddDetail()"><i
                                                                class="fas fa-plus"></i></button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-12 row mb-3">
                                        <div class="col-md-12 row">
                                            <div id="tags" class="form-group">
                                                <label for="form_detail">Tags<span
                                                        class="require"></span></label>
                                                <div class="row">
                                                    <input id="tag-input" type="text" name="tag-input"
                                                        class="form-control" placeholder="Enter tags...">
                                                </div>                                                
                                            </div>
                                            <div class="col-md-2 button-add">
                                                <button type="button" class="btn btn-primary btn-add-detail"
                                                    onClick="onAddTag()"><i
                                                        class="fas fa-plus"></i></button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        <label for="example-input-file"> </label>
                                        <input type="file" name="image" multiple id="input-many-files" 
                                                class="form-control-file border" required data-error="Please upload image.">
                                        <hr>
                                        <div class="row">
                                            <div class="col-sm-12">
                                                <div class="preview-images"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-12"> <input type="submit"
                                class="btn btn-success btn-send pt-2 btn-block " value="ADD PRODUCT">
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous">
    </script>
    <script src="https://unpkg.com/dropzone@5/dist/min/dropzone.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"
        integrity="sha512-3P8rXCuGJdNZOnUx/03c1jOTnMn3rP63nBip5gOP2qmUh5YAdVAvFZ1E+QLZZbC1rtMrQb+mah3AfYW11RUrWA=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.bundle.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script>
        $(document).ready(function() {
            // Multiple images preview in browser - trungquandev.com
            let imagesPreview = function(input, placeToInsertImagePreview) {
                if (input.files) {
                    let filesAmount = input.files.length;
                    for (i = 0; i < filesAmount; i++) {
                        let reader = new FileReader();
                        reader.onload = function(event) {
                            $($.parseHTML("<img>"))
                            .attr("src", event.target.result)
                            .attr("width", 300)
                            .appendTo(placeToInsertImagePreview);
                        }
                        reader.readAsDataURL(input.files[i]);
                    }
                }
            };
            $("#input-many-files").on("change", function() {
                imagesPreview(this, "div.preview-images");
            });
        });

        
        function onAddDetail() {
            const size = document.getElementById('size-input').value;
            const quantity = document.getElementById('quantity-input').value;
            // const detailValue=document.getElementById('detail-value');
            const placeInsertNode = document.querySelector('#details');
            let node = `
                <div class="row">
                    <div class="col-md-5">
                        <div class="form-group">
                            <input type="text" name="size"
                                class="form-control" placeholder="Enter size"
                                value=${size}>
                        </div>
                    </div>
                    <div class="col-md-5">
                        <div class="form-group">
                            <input type="text" name="quantity"
                                class="form-control" placeholder="Enter quantity"
                                value=${quantity}>
                        </div>
                    </div>
                </div>
            `
            if (size && quantity) {
                placeInsertNode.innerHTML += node;
            }
        }

        function onAddTag() {
            const tag = document.getElementById('tag-input').value;
            const placeInsertNode = document.querySelector('#tags');
            let node = `
                <div class="row">
                    <div class="col-md-5">
                        <div class="form-group">
                            <input type="text" name="tag"
                                class="form-control" placeholder="Enter size"
                                value=${tag}>
                        </div>
                    </div>
                </div>
            `
            if (tag) {
                placeInsertNode.innerHTML += node;
            }
        }
    </script>
    <!-- <script>
        // Dropzone has been added as a global variable.
        const dropzone = new Dropzone("div.dropzone", { url: "/file/post" });
      </script> -->
</body>

</html>